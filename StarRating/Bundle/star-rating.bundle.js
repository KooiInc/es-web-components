var{default:h,createOrRetrieveShadowRoot:x,setComponentStyleFor:v}=await import("https://kooiinc.github.io/es-webcomponent-factory/Bundle/es-webcomponent-bundle.js").then(l=>l);P();function P(){h({componentName:"copyright-slot",onConnect(l){let s=x(l),c=Object.assign(document.createElement("style"),{textContent:`:host{color:#777;display:inline-block;bottom:0.5rem;float:right;z-index:2;font-size:12px;.yr{font-weight:bold;color:green;display:inline-block;}.links a[target]{text-decoration:none;font-weight:bold;}.links a[target]:before{color:rgba(0,0,238,0.7);font-size:1.1rem;padding-right:2px;vertical-align:baseline;}.links a[target="_blank"]:before{content:"\u2197";}.links a[target="_top"]:before{content:"\u21BA";}.links a[target]:after{content:' | ';color:#000;font-weight:normal;}.links a[target]:last-child:after{content:'';}}`}),a=Object.assign(document.createElement("div"),{innerHTML:`&copy; <span class="yr"><slot name="year"></slot></span> KooiInc
              <span class="links"><slot name="links"></slot></span>`});s.append(c,a)}})}function g(l,s={},c={}){let a=Object.assign(document.createElement(l),s);if(c=U({trial:o=>Object.entries(c),whenError:o=>[]}),c.length)for(let[o,i]of c)a.dataset[o]=i;return a}function A(){let l=o=>o?.constructor!==Array&&(+o).constructor===Number&&!isNaN(+o)&&+o!=1/0,s=(o,i)=>l(o)?+o:l(i)?+i:0;return{NR:s,gte:(o,i)=>(o=s(o,-1),i=s(i),o>=i?o:i),inRange:(o,i,u)=>(o=s(o,-1),i=s(i),u=s(u),o>=i&&o<=u)}}function U({trial:l,whenError:s=c=>console.log(c)}={}){try{if(l?.constructor!==Function)throw new TypeError("maybe: trial parameter not a Function or Lambda");return l()}catch(c){return s?.constructor===Function?s(c):console.error(c)}}var tt=X;function X({min:l,max:s,nDefault:c}={}){let{NR:a,inRange:o,gte:i}=A(),{componentName:u,componentStyle:F,createStar:b,limits:S,appStrings:I}=J({min:l,max:s,nDefault:c}),[C,k,w,L,O,y,q,T,R,N,j,Q,D,z,M]=I;if(customElements.get(u))return console.info(M);h({componentName:u,onConnect:_});function _(t){let e=x(t),n=$(t);e.append(n),e.adoptedStyleSheets=[v(t,F)],e.addEventListener("click",H)}function H(t){let e=t.target,n=e.getRootNode(),r=n.host,p=n.querySelector(Q),f=a(e.dataset.setScore,-1),d=f>=0?f:Y(p,e);return a(d,-1)>=0&&a(r.dataset.score)!==d?E(p,r,d):!0}function $(t){K(t);let e=a(t.dataset.score),n=a(t.dataset.stars,S.nDefault),r=g(y,{className:q}),p=g(y,{className:T},{max:n,score:e});return r.append(p),r.append(g(y,{title:R,className:R},{setScore:0,stars:n})),r.append(g(y,{title:N,className:j},{setScore:e,stars:n})),E(p,t,e)}function K(t){let e=a(+t.dataset?.stars,S.nDefault),n=a(+t.dataset.initial,0),r=n>0?n:a(t.dataset.score,0);e=o(e,S.min,S.max)?e:S.nDefault,t.dataset.stars=e,t.dataset.initial=+n<=e?n:0,t.dataset.score=+r<=e?r:0}function W(t,e){let n=[];for(let r=0;r<t;r+=1)n.push(b(!0));for(let r=0;r<e-t;r+=1)n.push(b());return n}function Y(t,e){if(t===e)return 0;let n=1;for(let r of t.querySelectorAll(D)){if(r===e)return n;n+=1}}function E(t,e,n){let r=W(n,+t.dataset.max),p=t.querySelectorAll(D),f=r.length,d=t.closest(z);for(let m=0;m<f;m+=1)p.length<1?t.append(r[m]):p[m].replaceWith(r[m]);return e.dataset.score=t.dataset.score=n,B(d,n,a(e.dataset.initial)),d}function B(t,e,n){let r=e<1?C:k,p=n===0||n>0&&e===n?C:k;t.querySelector(L).classList[r](w),t.querySelector(O).classList[p](w)}function G(t,e){let n=a(t.nDefault,e.nDefault),r={min:i(a(t.min,e.min),e.min),max:a(t.max,e.max)};return{...r,nDefault:o(n,r.min,r.max)?n:e.nDefault}}function J(t){let e={min:3,max:10,nDefault:5},n="star-rater",r="\u2714 The <star-rater> web component can only be created once. It already exists and is ready for use. Enjoy!",p=["add","remove","inactive",".reset",".initial"],f=["div","starContainer","stars","reset","revert to initial","initial",".stars",".star",".starContainer"];return{limits:G(t,e),appStrings:p.concat(f).concat(r),componentName:n,componentStyle:":host{font-weight:normal;display:block;font-style:normal;.initial:after,.reset:after{letter-spacing:initial;font-weight:bold;color:#c45525;background-color:#EEE;padding:2px 4px;position:relative;text-align:center;margin-left:5px;top:-5px;cursor:pointer;min-width:48px;}.starContainer{padding:0.4rem 0;display:inline-block;.initial,.reset{display:inline-block;}.reset:after{content:'\u21B6 'attr(data-set-score)'/'attr(data-stars);}.initial:after{content:'\u21BA 'attr(data-set-score)'/'attr(data-stars);}.reset.inactive,.initial.inactive{display:none;}.stars{display:inline-block;cursor:pointer;letter-spacing:2px;.star{font-size:2rem;-webkit-text-stroke:1px #999;text-shadow:1px 1px 4px #999;color:white;&:before{content:'\u2605';} &.rated:before{color:gold;}&:hover:before{color:gold;-webkit-text-stroke:1px #c45525;text-shadow:1px 1px 4px #c45525;}}}}}",createStar(d){return g("span",{className:`star${d?" rated":""}`})}}}}export{tt as default};
