var{default:g,createOrRetrieveShadowRoot:x,setComponentStyleFor:v}=await import("https://kooiinc.github.io/es-webcomponent-factory/Bundle/es-webcomponent-bundle.js").then(i=>i);J();var V=U();function J(){g({componentName:"copyright-slot",onConnect(i){let a=x(i),c=Object.assign(document.createElement("style"),{textContent:`:host{color:#777;display:inline-block;bottom:0.7rem;position:relative;float:right;z-index:2;font-size:12px;.yr{font-weight:bold;color:green;opacity:0.8;display:inline-block;}::slotted(a[target]){text-decoration:none;font-weight:bold;}::slotted(a[target]):before{color:rgba(0,0,238,0.7);font-size:1.1rem;padding-right:2px;vertical-align:baseline;}::slotted(a[target="_blank"]):before{content:"\u2197";}::slotted(a[target="_top"]):before{content:"\u21BA";}::slotted(a[target]):after{content:' | ';color:#000;font-weight:normal;}::slotted(a[target]:last-child):after{content:'';}}`}),s=Object.assign(document.createElement("span"),{innerHTML:'&copy; <span class="yr"><slot name="year"></slot></span> KooiInc <slot name="link"></slot>'});a.append(c,s)}})}function h(i,a={},c={}){let s=Object.assign(document.createElement(i),a);if(c=X({trial:r=>Object.entries(c),whenError:r=>[]}),c.length)for(let[r,l]of c)s.dataset[r]=l;return s}function U(){let i={};return{add(a,c){i[a]=c},from(a){return i[a]}}}function F(){let i=r=>r?.constructor!==Array&&(+r).constructor===Number&&!isNaN(+r)&&+r!=1/0,a=(r,l)=>i(r)?+r:i(l)?+l:0;return{NR:a,gte:(r,l)=>(r=a(r,-1),l=a(l),r>=l?r:l),inRange:(r,l,u)=>(r=a(r,-1),l=a(l),u=a(u),r>=l&&r<=u)}}function X({trial:i,whenError:a=c=>console.log(c)}={}){try{if(i?.constructor!==Function)throw new TypeError("maybe: trial parameter not a Function or Lambda");return i()}catch(c){return a?.constructor===Function?a(c):console.error(c)}}var nt=Z;function Z({min:i,max:a,nDefault:c}={}){let{NR:s,inRange:r,gte:l}=F(),{componentName:u,componentStyle:A,createStar:b,limits:y,appStrings:I}=G({min:i,max:a,nDefault:c}),[C,w,k,O,q,S,L,T,R,j,P,Q,D,z,N]=I;if(customElements.get(u))return console.info(N);g({componentName:u,onConnect:_});function _(t){let e=x(t),n=$(t);e.append(n),e.adoptedStyleSheets=[v(t,A)],e.addEventListener("click",M)}function M(t){let e=t.target,n=e.getRootNode(),o=n.host,d=n.querySelector(Q),f=s(e.dataset.setScore,-1),p=f>=0?f:W(d,e);return s(p,-1)>=0&&s(o.dataset.score)!==p?E(d,o,p):!0}function $(t){H(t);let e=s(t.dataset.score),n=s(t.dataset.stars,y.nDefault),o=h(S,{className:L}),d=h(S,{className:T},{max:n,score:e});return o.append(d),o.append(h(S,{title:R,className:R},{setScore:0,stars:n})),o.append(h(S,{title:j,className:P},{setScore:e,stars:n})),E(d,t,e)}function H(t){let e=s(+t.dataset?.stars,y.nDefault),n=s(+t.dataset.initial,0),o=n>0?n:s(t.dataset.score,0);e=r(e,y.min,y.max)?e:y.nDefault,t.dataset.stars=e,t.dataset.initial=+n<=e?n:0,t.dataset.score=+o<=e?o:0}function K(t,e){let n=[];for(let o=0;o<t;o+=1)n.push(b(!0));for(let o=0;o<e-t;o+=1)n.push(b());return n}function W(t,e){if(t===e)return 0;let n=1;for(let o of t.querySelectorAll(D)){if(o===e)return n;n+=1}}function E(t,e,n){let o=K(n,+t.dataset.max),d=t.querySelectorAll(D),f=o.length,p=t.closest(z);for(let m=0;m<f;m+=1)d.length<1?t.append(o[m]):d[m].replaceWith(o[m]);return e.dataset.score=t.dataset.score=n,Y(p,n,s(e.dataset.initial)),p}function Y(t,e,n){let o=e<1?C:w,d=n===0||n>0&&e===n?C:w;t.querySelector(O).classList[o](k),t.querySelector(q).classList[d](k)}function B(t,e){let n=s(t.nDefault,e.nDefault),o={min:l(s(t.min,e.min),e.min),max:s(t.max,e.max)};return{...o,nDefault:r(n,o.min,o.max)?n:e.nDefault}}function G(t){let e={min:3,max:10,nDefault:5},n="star-rater",o="\u2714 The <star-rater> web component can only be created once. It already exists and is ready for use. Enjoy!",d=["add","remove","inactive",".reset",".initial"],f=["div","starContainer","stars","reset","revert to initial","initial",".stars",".star",".starContainer"];return{limits:B(t,e),appStrings:d.concat(f).concat(o),componentName:n,componentStyle:":host{font-weight:normal;display:block;font-style:normal;.initial:after,.reset:after{letter-spacing:initial;font-weight:bold;color:#c45525;background-color:#EEE;padding:2px 4px;position:relative;text-align:center;margin-left:5px;top:-5px;cursor:pointer;min-width:48px;}.starContainer{padding:0.4rem 0;display:inline-block;.initial,.reset{display:inline-block;}.reset:after{content:'\u21B6 'attr(data-set-score)'/'attr(data-stars);}.initial:after{content:'\u21BA 'attr(data-set-score)'/'attr(data-stars);}.reset.inactive,.initial.inactive{display:none;}.stars{display:inline-block;cursor:pointer;letter-spacing:2px;.star{font-size:2rem;-webkit-text-stroke:1px #999;text-shadow:1px 1px 4px #999;color:white;&:before{content:'\u2605';} &.rated:before{color:gold;}&:hover:before{color:gold;-webkit-text-stroke:1px #c45525;text-shadow:1px 1px 4px #c45525;}}}}}",createStar(p){return h("span",{className:`star${p?" rated":""}`})}}}}export{nt as default};
